# FeedbackArcSets.jl

`FeedbackArcSets` is a Julia package dedicated to finding the smallest
[feedback arc set](https://en.wikipedia.org/wiki/Feedback_arc_set) in
a graph. A feedback arc set is a subset of the graph's edges, such
that removing them leaves an acyclic graph.

The smallest feedback arc set problem is NP-hard, so the time needed
to find the solution grows quickly with the size of the graph, unless
it has some advantageous structure. If the problem is too big to find
an optimal solution within available time, `FeedbackArcSets` can
return the smallest found feedback arc set together with a provable
lower bound for the smallest feedback arc set.

## Exact Algorithm

    find_feedback_arc_set(graph; kwargs...)

Find the smallest feedback arc set for a directed Graphs.jl
`graph`. If time limits or other restrictions prevent finding an
optimal feedback arc set, a lower bound on the smallest feedback arc
set is returned together with the best solution found. See the
docstring for keyword arguments and return values.

### IP solvers

The exact algorithm require an IP solver. Currently supported options
are to use CBC or HiGHS directly, or any solver available in JuMP.
For the latter the backend optimizer must be passed as a
`solver_option`. Examples:
```
find_feedback_arc_set(graph; solver = "cbc")
find_feedback_arc_set(graph; solver = "jump",
                      solver_options = Dict("optimizer" => HiGHS.Optimizer))
```

## Heuristic Algorithms

These all work with a directed graph from the `Graphs` package and
return a best effort feedback arc set. The algorithms are listed in
order of increasing runtime and normally the size of the feedback arc
set decreases accordingly. All of them are much faster than finding
the exact solution.

    dfs_feedback_arc_set(graph)

Runs a Depth First Search and returns the back edges as a feedback arc
set.

    greedy_feedback_arc_set(graph; randomize = true)

Uses the greedy algorithm of Eades, Lin & Smyth [1].

    pagerank_feedback_arc_set(graph; num_iterations = 5)

Uses the Page Rank based algorithm of Geladaris, Lionakis & Tollis [2].

## Adding FeedbackArcSets

FeedbackArcSets can be added with

```
using Pkg
Pkg.add(url = "https://github.com/GunnarFarneback/FeedbackArcSets.jl.git")
```

## History

FeedbackArcSets started as a spin-off from
[LongestPaths](https://github.com/GunnarFarneback/LongestPaths.jl).

## Theory

The exact method uses an Integer Linear Program formulation. Although
developed independently, it matches section 3.2 of Baharev et al [3]
with iterative constraint generation similar to section 4.3.

## Benchmarks

Baharev et al [3] use a set of 4468 benchmark graphs. These can be
loaded with the `baharev_benchmark` function.

The graphs generated by the
[GoGameGraphs](https://github.com/GunnarFarneback/GoGameGraphs)
package are also useful for benchmarking feedback arc set
algorithms. These are relatively easy to solve exactly, so larger
graphs can be handled than in the Baharev benchmarks. Use the
`GoGameGraphs.go_game_graph` function to generate graphs.

## TODO

* Register in the General registry.

* Add option to use LP instead of IP for non-optimal search.

* Add support for weighted edges.

## References

[1] A fast and effective heuristic for the feedback arc set problem.
P Eades, X Lin, WF Smyth. Information processing letters 47 (6),
319-323, 1993.

[2] Computing a feedback arc set using pagerank.
V Geladaris, P Lionakis, IG Tollis.
International Symposium on Graph Drawing and Network Visualization,
2022. Springer

[3] An Exact Method for the Minimum Feedback Arc Set Problem.
A. Baharev, H. Schichl, A. Neumaier, T. Achterberg
Journal of Experimental Algorithmics (JEA), 2021 â€¢ dl.acm.org
